import{R as S,d as n,O as K,K as w,y as C,h as J,o as x,L as T,k as Q,l as j,m as $,_ as L,n as X,x as Z,p as q,t as G,j as d,Q as W,U as ee,Y as te}from"./index-C_SaourX.js";import{$ as ne,a as re,r as se}from"./bugs-DrBqCKKs.js";import{w as le}from"./use-active-press-BFN1ATli.js";import{e as ae}from"./use-resolve-button-type-BgQ9fnl6.js";import{C as oe}from"./index-nquDke5l.js";import{u as ue,o as D}from"./focus-management-Dc5kYah-.js";var Y;let ie=(Y=S.startTransition)!=null?Y:function(e){e()};var ce=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ce||{}),de=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.SetButtonElement=4]="SetButtonElement",e[e.SetPanelElement=5]="SetPanelElement",e))(de||{});let pe={0:e=>({...e,disclosureState:j(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}},4(e,t){return e.buttonElement===t.element?e:{...e,buttonElement:t.element}},5(e,t){return e.panelElement===t.element?e:{...e,panelElement:t.element}}},k=n.createContext(null);k.displayName="DisclosureContext";function R(e){let t=n.useContext(k);if(t===null){let s=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,R),s}return t}let B=n.createContext(null);B.displayName="DisclosureAPIContext";function A(e){let t=n.useContext(B);if(t===null){let s=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,A),s}return t}let F=n.createContext(null);F.displayName="DisclosurePanelContext";function me(){return n.useContext(F)}function fe(e,t){return j(t.type,pe,e,t)}let Ee=n.Fragment;function be(e,t){let{defaultOpen:s=!1,...c}=e,u=n.useRef(null),p=C(t,J(i=>{u.current=i},e.as===void 0||e.as===n.Fragment)),m=n.useReducer(fe,{disclosureState:s?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:r,buttonId:l},y]=m,a=x(i=>{y({type:1});let f=ue(u);if(!f||!l)return;let b=i?i instanceof HTMLElement?i:i.current instanceof HTMLElement?i.current:f.getElementById(l):f.getElementById(l);b==null||b.focus()}),h=n.useMemo(()=>({close:a}),[a]),E=n.useMemo(()=>({open:r===0,close:a}),[r,a]),v={ref:p},g=T();return S.createElement(k.Provider,{value:m},S.createElement(B.Provider,{value:h},S.createElement(oe,{value:a},S.createElement(Q,{value:j(r,{0:$.Open,1:$.Closed})},g({ourProps:v,theirProps:c,slot:E,defaultTag:Ee,name:"Disclosure"})))))}let Se="button";function ye(e,t){let s=n.useId(),{id:c=`headlessui-disclosure-button-${s}`,disabled:u=!1,autoFocus:p=!1,...m}=e,[r,l]=R("Disclosure.Button"),y=me(),a=y===null?!1:y===r.panelId,h=n.useRef(null),E=C(h,t,x(o=>{if(!a)return l({type:4,element:o})}));n.useEffect(()=>{if(!a)return l({type:2,buttonId:c}),()=>{l({type:2,buttonId:null})}},[c,l,a]);let v=x(o=>{var I;if(a){if(r.disclosureState===1)return;switch(o.key){case D.Space:case D.Enter:o.preventDefault(),o.stopPropagation(),l({type:0}),(I=r.buttonElement)==null||I.focus();break}}else switch(o.key){case D.Space:case D.Enter:o.preventDefault(),o.stopPropagation(),l({type:0});break}}),g=x(o=>{switch(o.key){case D.Space:o.preventDefault();break}}),i=x(o=>{var I;se(o.currentTarget)||u||(a?(l({type:0}),(I=r.buttonElement)==null||I.focus()):l({type:0}))}),{isFocusVisible:f,focusProps:b}=ne({autoFocus:p}),{isHovered:P,hoverProps:N}=re({isDisabled:u}),{pressed:O,pressProps:M}=le({disabled:u}),V=n.useMemo(()=>({open:r.disclosureState===0,hover:P,active:O,disabled:u,focus:f,autofocus:p}),[r,P,O,f,u,p]),H=ae(e,r.buttonElement),z=a?L({ref:E,type:H,disabled:u||void 0,autoFocus:p,onKeyDown:v,onClick:i},b,N,M):L({ref:E,id:c,type:H,"aria-expanded":r.disclosureState===0,"aria-controls":r.panelElement?r.panelId:void 0,disabled:u||void 0,autoFocus:p,onKeyDown:v,onKeyUp:g,onClick:i},b,N,M);return T()({ourProps:z,theirProps:m,slot:V,defaultTag:Se,name:"Disclosure.Button"})}let ve="div",xe=K.RenderStrategy|K.Static;function he(e,t){let s=n.useId(),{id:c=`headlessui-disclosure-panel-${s}`,transition:u=!1,...p}=e,[m,r]=R("Disclosure.Panel"),{close:l}=A("Disclosure.Panel"),[y,a]=n.useState(null),h=C(t,x(P=>{ie(()=>r({type:5,element:P}))}),a);n.useEffect(()=>(r({type:3,panelId:c}),()=>{r({type:3,panelId:null})}),[c,r]);let E=X(),[v,g]=Z(u,y,E!==null?(E&$.Open)===$.Open:m.disclosureState===0),i=n.useMemo(()=>({open:m.disclosureState===0,close:l}),[m.disclosureState,l]),f={ref:h,id:c,...q(g)},b=T();return S.createElement(G,null,S.createElement(F.Provider,{value:m.panelId},b({ourProps:f,theirProps:p,slot:i,defaultTag:ve,features:xe,visible:v,name:"Disclosure.Panel"})))}let ge=w(be),U=w(ye),_=w(he),Ie=Object.assign(ge,{Button:U,Panel:_});function De({title:e,titleId:t,...s},c){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":t},s),e?n.createElement("title",{id:t},e):null,n.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const Pe=n.forwardRef(De),Re=({children:e,className:t})=>d.jsx(Ie,{as:"div",className:`rounded bg-gray-100 shadow ${t}`,children:({open:s})=>d.jsxs(d.Fragment,{children:[d.jsxs(U,{className:"flex w-full cursor-pointer items-center justify-between p-4",children:[d.jsx("div",{className:"flex-shrink-0",children:"搜尋"}),d.jsx(Pe,{className:`size-6 transition-transform ${s?"rotate-180":""}`})]}),d.jsx("div",{className:"overflow-hidden",children:d.jsx(W,{children:s&&d.jsx(_,{static:!0,as:n.Fragment,children:d.jsx(ee.div,{initial:{opacity:0,transform:"translateY(-100%)"},animate:{opacity:1,transform:"translateY(0px)"},exit:{opacity:0,transform:"translateY(-100%)"},transition:{duration:.3,ease:te},children:d.jsx("div",{className:"border-t p-4",children:e})})})})})]})});export{Re as S};
