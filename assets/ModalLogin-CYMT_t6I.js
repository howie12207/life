import{c as S,d as e,a0 as L,j as s,B as x}from"./index-BsT9PFH1.js";import{i as j}from"./validate-C1sTg8Ed.js";import{B as k}from"./index-ByU6m4XI.js";import{B as w}from"./index-D8YX5iPM.js";import"./focus-management-Bxz331r8.js";const z=({isOpen:V,close:h})=>{const{enqueueSnackbar:v}=S(),l=e.useRef(null),[o,i]=e.useState(""),[b,n]=e.useState(!1),g=[{validate:j,message:"請輸入帳號"}],r=e.useRef(null),[c,d]=e.useState(""),[y,u]=e.useState(!1),R=[{validate:j,message:"請輸入密碼"}],{mutateAsync:B,isPending:f}=L(),a=async()=>{var p,m;if(![(p=l.current)==null?void 0:p.validateNow(),(m=r.current)==null?void 0:m.validateNow()].every(I=>I))return v("請確認紅框處內容");await B({account:o,password:c})&&t()},t=()=>{h(),i(""),n(!1),d(""),u(!1)};return s.jsx(k,{isOpen:V,close:t,children:s.jsxs("form",{children:[s.jsx("div",{className:"mb-4 text-center text-2xl font-bold text-blue-800",children:"管理員登入"}),s.jsxs("div",{children:[s.jsx(w,{ref:l,id:"life-account",label:"帳號",value:o,setValue:i,isValid:b,setIsValid:n,rules:g,placeholder:"請輸入您的帳號",enter:a}),s.jsx(w,{ref:r,id:"life-password",label:"密碼",type:"password",showEye:!0,value:c,setValue:d,isValid:y,setIsValid:u,rules:R,placeholder:"請輸入您的密碼",enter:a})]}),s.jsxs("div",{className:"mt-8 flex justify-evenly",children:[s.jsx(x,{onClick:a,isLoading:f,disabled:f,children:"登入"}),s.jsx(x,{onClick:t,type:"info",children:"取消"})]})]})})};export{z as default};
