import{d as o,o as T,R as u,D as $,$ as S,H as I,K as F,L as N}from"./index-BbfrBdY1.js";import{f as c,s as m,w as P,a as R,l as x}from"./focus-management-CwWo8Oc6.js";import{K as H,f as O}from"./label-DV6Ggf67.js";function B(t,e,n){let[r,l]=o.useState(n),a=t!==void 0,i=o.useRef(a),s=o.useRef(!1),d=o.useRef(!1);return a&&!i.current&&!s.current?(s.current=!0,i.current=a,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!a&&i.current&&!d.current&&(d.current=!0,i.current=a,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[a?t:r,T(f=>(a||l(f),e==null?void 0:e(f)))]}function L(t){let[e]=o.useState(t);return e}function h(t={},e=null,n=[]){for(let[r,l]of Object.entries(t))y(n,g(e,r),l);return n}function g(t,e){return t?t+"["+e+"]":e}function y(t,e,n){if(Array.isArray(n))for(let[r,l]of n.entries())y(t,g(e,r.toString()),l);else n instanceof Date?t.push([e,n.toISOString()]):typeof n=="boolean"?t.push([e,n?"1":"0"]):typeof n=="string"?t.push([e,n]):typeof n=="number"?t.push([e,`${n}`]):n==null?t.push([e,""]):h(n,e,t)}function q(t){var e,n;let r=(e=t==null?void 0:t.form)!=null?e:t.closest("form");if(r){for(let l of r.elements)if(l!==t&&(l.tagName==="INPUT"&&l.type==="submit"||l.tagName==="BUTTON"&&l.type==="submit"||l.nodeName==="INPUT"&&l.type==="image")){l.click();return}(n=r.requestSubmit)==null||n.call(r)}}let E=o.createContext(null);function A(t){let[e,n]=o.useState(null);return u.createElement(E.Provider,{value:{target:e}},t.children,u.createElement(c,{features:m.Hidden,ref:n}))}function w({children:t}){let e=o.useContext(E);if(!e)return u.createElement(u.Fragment,null,t);let{target:n}=e;return n?I.createPortal(u.createElement(u.Fragment,null,t),n):null}function M({data:t,form:e,disabled:n,onReset:r,overrides:l}){let[a,i]=o.useState(null),s=$();return o.useEffect(()=>{if(r&&a)return s.addEventListener(a,"reset",r)},[a,e,r]),u.createElement(w,null,u.createElement(C,{setForm:i,formId:e}),h(t).map(([d,f])=>u.createElement(c,{features:m.Hidden,...S({key:d,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:e,disabled:n,name:d,value:f,...l})})))}function C({setForm:t,formId:e}){return o.useEffect(()=>{if(e){let n=document.getElementById(e);n&&t(n)}},[t,e]),e?null:u.createElement(c,{features:m.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let r=n.closest("form");r&&t(r)}})}let D="div";function K(t,e){let n=`headlessui-control-${o.useId()}`,[r,l]=H(),[a,i]=P(),s=R(),{disabled:d=s||!1,...f}=t,p=o.useMemo(()=>({disabled:d}),[d]),b={ref:e,disabled:d||void 0,"aria-disabled":d||void 0},v=N();return u.createElement(x,{value:d},u.createElement(l,{value:r},u.createElement(i,{value:a},u.createElement(O,{id:n},v({ourProps:b,theirProps:{...f,children:u.createElement(A,null,typeof f.children=="function"?f.children(p):f.children)},slot:p,defaultTag:D,name:"Field"})))))}let W=F(K);export{W as H,B as T,M as j,L as l,q as p};
