import{g as x,j as r,Y as S,Z as B,$ as R,E as $,t as k,B as E,a0 as F,a1 as m}from"./index-a_yidc0F.js";import{f as g,a as d}from"./index-C1NiXTQ7.js";import{F as v}from"./PencilSquareIcon-ncrJ3esa.js";function D({title:o,titleId:l,...y},t){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},y),o?x.createElement("title",{id:l},o):null,x.createElement("path",{fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v16.19l2.47-2.47a.75.75 0 1 1 1.06 1.06l-3.75 3.75a.75.75 0 0 1-1.06 0l-3.75-3.75a.75.75 0 1 1 1.06-1.06l2.47 2.47V3a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const z=x.forwardRef(D),A=x.memo(({headList:o,data:l,customClick:y,isLoading:t,lineThrough:p,trClass:j})=>{const b=()=>r.jsx("tr",{children:r.jsx("td",{colSpan:(o==null?void 0:o.length)||100,className:"relative h-80",children:r.jsx($,{isLoading:!!t,className:"size-8"})})}),n=()=>l==null?void 0:l.map((c,u)=>r.jsx("tr",{className:k(["border-b border-gray-400",(p==null?void 0:p(c))&&"line-through",j==null?void 0:j(c)]),children:o==null?void 0:o.map((e,w)=>{let a="";return e.type==="custom"&&e.customContent?a=e.customContent(c):e.key&&!e.type?a=`${c[e.key]}`:e.key&&e.type?e.type==="dollar"?a=`${g(Number(c[e.key]),{type:"dollar"})}`:e.type==="number"?a=`${g(Number(c[e.key]))}`:e.type==="datetime"?a=d(Number(c[e.key])):e.type==="time"?a=d(Number(c[e.key]),{onlyTime:!0}):e.type==="date"&&(a=d(Number(c[e.key]),{onlyDate:!0})):e.type==="operation"&&!(p!=null&&p(c))&&(a=r.jsx(E,{type:"icon",className:"text-blue-700",onClick:()=>y==null?void 0:y(e.clickType,u),children:r.jsxs(r.Fragment,{children:[e.clickType==="edit"&&r.jsx(v,{className:"size-4"}),e.clickType==="delete"&&r.jsx(F,{className:"size-4"})]})})),r.jsx("td",{className:k(["p-2 text-sm sm:p-4",e.type==="dollar"&&"text-right",e.className]),children:a},w)})},u)),N=()=>r.jsx("tr",{children:r.jsx("td",{colSpan:(o==null?void 0:o.length)||100,className:"relative h-20 text-center",children:"暫無資料"})});return r.jsx(S,{mode:"wait",children:r.jsxs(B.tbody,{...R,children:[t&&r.jsx(b,{}),!t&&(l==null?void 0:l.length)===0&&r.jsx(N,{}),!t&&(l==null?void 0:l.length)!==0&&r.jsx(n,{})]},`${t}-${l==null?void 0:l.length}`)})}),O=({headList:o,className:l,data:y,customClick:t,isLoading:p,lineThrough:j,trClass:b})=>{const[n,N]=x.useState(""),[c,u]=x.useState("desc"),e=s=>!s.disabledSort&&s.type!=="operation"&&s.type!=="custom",w=s=>{e(s)&&(n!==s.key?(N(s.key),u("desc")):u(c==="asc"?"desc":"asc"))},a=n?[...y].sort((s,f)=>typeof s[n]=="string"&&typeof f[n]=="string"?c==="asc"?s[n].localeCompare(f[n]):f[n].localeCompare(s[n]):c==="asc"?s[n]-f[n]:f[n]-s[n]):y;return r.jsx("div",{className:"w-full overflow-x-auto",children:r.jsxs("table",{className:m(["table w-full scroll-mt-14",l]),children:[r.jsx("thead",{children:r.jsx("tr",{className:"border-b-2 border-gray-400",children:o==null?void 0:o.map((s,f)=>r.jsxs("th",{className:m(["p-2 text-left text-sm text-nowrap sm:p-4",s.type==="dollar"&&"text-right",s.className,e(s)&&"cursor-pointer"]),onClick:()=>w(s),children:[s.name,e(s)&&r.jsx(z,{className:k(["inline-block size-4 transition-transform",n===s.key&&"text-red-500",n===s.key&&c==="asc"&&"rotate-180",n!==s.key&&"opacity-20"])})]},f))})}),r.jsx(A,{headList:o,data:a,customClick:t,isLoading:p,lineThrough:j,trClass:b})]})})};export{O as B};
