import{R as S,d as n,O as K,K as w,y as C,h as X,o as x,L as T,k as Z,l as j,m as $,_ as L,n as q,x as G,p as Q,v as W,j as d,t as A,U as ee,V as te,$ as ne}from"./index-tMIyCdSo.js";import{$ as re,a as se,r as le}from"./bugs-CaG749OM.js";import{w as ae}from"./use-active-press-BPpYcImU.js";import{e as oe}from"./use-resolve-button-type-Bcpcqw0y.js";import{C as ue}from"./index-DyTea0W6.js";import{u as ie,o as D}from"./focus-management-DU-Qkul4.js";var U;let ce=(U=S.startTransition)!=null?U:function(e){e()};var de=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(de||{}),pe=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.SetButtonElement=4]="SetButtonElement",e[e.SetPanelElement=5]="SetPanelElement",e))(pe||{});let me={0:e=>({...e,disclosureState:j(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}},4(e,t){return e.buttonElement===t.element?e:{...e,buttonElement:t.element}},5(e,t){return e.panelElement===t.element?e:{...e,panelElement:t.element}}},k=n.createContext(null);k.displayName="DisclosureContext";function R(e){let t=n.useContext(k);if(t===null){let s=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,R),s}return t}let B=n.createContext(null);B.displayName="DisclosureAPIContext";function V(e){let t=n.useContext(B);if(t===null){let s=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,V),s}return t}let F=n.createContext(null);F.displayName="DisclosurePanelContext";function fe(){return n.useContext(F)}function Ee(e,t){return j(t.type,me,e,t)}let be=n.Fragment;function Se(e,t){let{defaultOpen:s=!1,...c}=e,u=n.useRef(null),p=C(t,X(i=>{u.current=i},e.as===void 0||e.as===n.Fragment)),m=n.useReducer(Ee,{disclosureState:s?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:r,buttonId:l},v]=m,a=x(i=>{v({type:1});let f=ie(u);if(!f||!l)return;let b=i?i instanceof HTMLElement?i:i.current instanceof HTMLElement?i.current:f.getElementById(l):f.getElementById(l);b==null||b.focus()}),h=n.useMemo(()=>({close:a}),[a]),E=n.useMemo(()=>({open:r===0,close:a}),[r,a]),y={ref:p},g=T();return S.createElement(k.Provider,{value:m},S.createElement(B.Provider,{value:h},S.createElement(ue,{value:a},S.createElement(Z,{value:j(r,{0:$.Open,1:$.Closed})},g({ourProps:y,theirProps:c,slot:E,defaultTag:be,name:"Disclosure"})))))}let ve="button";function ye(e,t){let s=n.useId(),{id:c=`headlessui-disclosure-button-${s}`,disabled:u=!1,autoFocus:p=!1,...m}=e,[r,l]=R("Disclosure.Button"),v=fe(),a=v===null?!1:v===r.panelId,h=n.useRef(null),E=C(h,t,x(o=>{if(!a)return l({type:4,element:o})}));n.useEffect(()=>{if(!a)return l({type:2,buttonId:c}),()=>{l({type:2,buttonId:null})}},[c,l,a]);let y=x(o=>{var I;if(a){if(r.disclosureState===1)return;switch(o.key){case D.Space:case D.Enter:o.preventDefault(),o.stopPropagation(),l({type:0}),(I=r.buttonElement)==null||I.focus();break}}else switch(o.key){case D.Space:case D.Enter:o.preventDefault(),o.stopPropagation(),l({type:0});break}}),g=x(o=>{switch(o.key){case D.Space:o.preventDefault();break}}),i=x(o=>{var I;le(o.currentTarget)||u||(a?(l({type:0}),(I=r.buttonElement)==null||I.focus()):l({type:0}))}),{isFocusVisible:f,focusProps:b}=re({autoFocus:p}),{isHovered:P,hoverProps:N}=se({isDisabled:u}),{pressed:O,pressProps:M}=ae({disabled:u}),z=n.useMemo(()=>({open:r.disclosureState===0,hover:P,active:O,disabled:u,focus:f,autofocus:p}),[r,P,O,f,u,p]),H=oe(e,r.buttonElement),J=a?L({ref:E,type:H,disabled:u||void 0,autoFocus:p,onKeyDown:y,onClick:i},b,N,M):L({ref:E,id:c,type:H,"aria-expanded":r.disclosureState===0,"aria-controls":r.panelElement?r.panelId:void 0,disabled:u||void 0,autoFocus:p,onKeyDown:y,onKeyUp:g,onClick:i},b,N,M);return T()({ourProps:J,theirProps:m,slot:z,defaultTag:ve,name:"Disclosure.Button"})}let xe="div",he=K.RenderStrategy|K.Static;function ge(e,t){let s=n.useId(),{id:c=`headlessui-disclosure-panel-${s}`,transition:u=!1,...p}=e,[m,r]=R("Disclosure.Panel"),{close:l}=V("Disclosure.Panel"),[v,a]=n.useState(null),h=C(t,x(P=>{ce(()=>r({type:5,element:P}))}),a);n.useEffect(()=>(r({type:3,panelId:c}),()=>{r({type:3,panelId:null})}),[c,r]);let E=q(),[y,g]=G(u,v,E!==null?(E&$.Open)===$.Open:m.disclosureState===0),i=n.useMemo(()=>({open:m.disclosureState===0,close:l}),[m.disclosureState,l]),f={ref:h,id:c,...Q(g)},b=T();return S.createElement(W,null,S.createElement(F.Provider,{value:m.panelId},b({ourProps:f,theirProps:p,slot:i,defaultTag:xe,features:he,visible:y,name:"Disclosure.Panel"})))}let Ie=w(Se),Y=w(ye),_=w(ge),De=Object.assign(Ie,{Button:Y,Panel:_});function Pe({title:e,titleId:t,...s},c){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":t},s),e?n.createElement("title",{id:t},e):null,n.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const $e=n.forwardRef(Pe),Be=({children:e,className:t})=>d.jsx(De,{as:"div",className:A(["rounded bg-gray-100 shadow",t]),children:({open:s})=>d.jsxs(d.Fragment,{children:[d.jsxs(Y,{className:"flex w-full cursor-pointer items-center justify-between p-4",children:[d.jsx("div",{className:"flex-shrink-0",children:"搜尋"}),d.jsx($e,{className:A(["size-6 transition-transform",s&&"rotate-180"])})]}),d.jsx("div",{className:"overflow-hidden",children:d.jsx(ee,{children:s&&d.jsx(_,{static:!0,as:n.Fragment,children:d.jsx(te.div,{initial:{opacity:0,transform:"translateY(-100%)"},animate:{opacity:1,transform:"translateY(0px)"},exit:{opacity:0,transform:"translateY(-100%)"},transition:{duration:.3,ease:ne},children:d.jsx("div",{className:"border-t p-4",children:e})})})})})]})});export{Be as S};
