import{R as S,d as n,O as K,K as w,y as C,T as J,o as x,L as T,i as X,k as j,l as $,$ as Z,m as q,w as G,n as Q,_ as L,t as W,x as ee,v as te,C as ne,F as se,D as I,E as le,j as d,a7 as re,a8 as ae,ab as oe}from"./index-BLArQMGd.js";import{C as ue}from"./index-CgMiA0CP.js";var A;let ie=(A=S.startTransition)!=null?A:function(e){e()};var ce=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ce||{}),de=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.SetButtonElement=4]="SetButtonElement",e[e.SetPanelElement=5]="SetPanelElement",e))(de||{});let pe={0:e=>({...e,disclosureState:j(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}},4(e,t){return e.buttonElement===t.element?e:{...e,buttonElement:t.element}},5(e,t){return e.panelElement===t.element?e:{...e,panelElement:t.element}}},k=n.createContext(null);k.displayName="DisclosureContext";function R(e){let t=n.useContext(k);if(t===null){let l=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,R),l}return t}let F=n.createContext(null);F.displayName="DisclosureAPIContext";function Y(e){let t=n.useContext(F);if(t===null){let l=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,Y),l}return t}let B=n.createContext(null);B.displayName="DisclosurePanelContext";function fe(){return n.useContext(B)}function me(e,t){return j(t.type,pe,e,t)}let Ee=n.Fragment;function be(e,t){let{defaultOpen:l=!1,...c}=e,u=n.useRef(null),p=C(t,J(i=>{u.current=i},e.as===void 0||e.as===n.Fragment)),f=n.useReducer(me,{disclosureState:l?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:s,buttonId:r},v]=f,a=x(i=>{v({type:1});let m=se(u);if(!m||!r)return;let b=i?i instanceof HTMLElement?i:i.current instanceof HTMLElement?i.current:m.getElementById(r):m.getElementById(r);b==null||b.focus()}),g=n.useMemo(()=>({close:a}),[a]),E=n.useMemo(()=>({open:s===0,close:a}),[s,a]),y={ref:p},h=T();return S.createElement(k.Provider,{value:f},S.createElement(F.Provider,{value:g},S.createElement(ue,{value:a},S.createElement(X,{value:j(s,{0:$.Open,1:$.Closed})},h({ourProps:y,theirProps:c,slot:E,defaultTag:Ee,name:"Disclosure"})))))}let Se="button";function ve(e,t){let l=n.useId(),{id:c=`headlessui-disclosure-button-${l}`,disabled:u=!1,autoFocus:p=!1,...f}=e,[s,r]=R("Disclosure.Button"),v=fe(),a=v===null?!1:v===s.panelId,g=n.useRef(null),E=C(g,t,x(o=>{if(!a)return r({type:4,element:o})}));n.useEffect(()=>{if(!a)return r({type:2,buttonId:c}),()=>{r({type:2,buttonId:null})}},[c,r,a]);let y=x(o=>{var D;if(a){if(s.disclosureState===1)return;switch(o.key){case I.Space:case I.Enter:o.preventDefault(),o.stopPropagation(),r({type:0}),(D=s.buttonElement)==null||D.focus();break}}else switch(o.key){case I.Space:case I.Enter:o.preventDefault(),o.stopPropagation(),r({type:0});break}}),h=x(o=>{switch(o.key){case I.Space:o.preventDefault();break}}),i=x(o=>{var D;le(o.currentTarget)||u||(a?(r({type:0}),(D=s.buttonElement)==null||D.focus()):r({type:0}))}),{isFocusVisible:m,focusProps:b}=Z({autoFocus:p}),{isHovered:P,hoverProps:N}=q({isDisabled:u}),{pressed:O,pressProps:M}=G({disabled:u}),V=n.useMemo(()=>({open:s.disclosureState===0,hover:P,active:O,disabled:u,focus:m,autofocus:p}),[s,P,O,m,u,p]),H=Q(e,s.buttonElement),z=a?L({ref:E,type:H,disabled:u||void 0,autoFocus:p,onKeyDown:y,onClick:i},b,N,M):L({ref:E,id:c,type:H,"aria-expanded":s.disclosureState===0,"aria-controls":s.panelElement?s.panelId:void 0,disabled:u||void 0,autoFocus:p,onKeyDown:y,onKeyUp:h,onClick:i},b,N,M);return T()({ourProps:z,theirProps:f,slot:V,defaultTag:Se,name:"Disclosure.Button"})}let ye="div",xe=K.RenderStrategy|K.Static;function ge(e,t){let l=n.useId(),{id:c=`headlessui-disclosure-panel-${l}`,transition:u=!1,...p}=e,[f,s]=R("Disclosure.Panel"),{close:r}=Y("Disclosure.Panel"),[v,a]=n.useState(null),g=C(t,x(P=>{ie(()=>s({type:5,element:P}))}),a);n.useEffect(()=>(s({type:3,panelId:c}),()=>{s({type:3,panelId:null})}),[c,s]);let E=W(),[y,h]=ee(u,v,E!==null?(E&$.Open)===$.Open:f.disclosureState===0),i=n.useMemo(()=>({open:f.disclosureState===0,close:r}),[f.disclosureState,r]),m={ref:g,id:c,...te(h)},b=T();return S.createElement(ne,null,S.createElement(B.Provider,{value:f.panelId},b({ourProps:m,theirProps:p,slot:i,defaultTag:ye,features:xe,visible:y,name:"Disclosure.Panel"})))}let he=w(be),_=w(ve),U=w(ge),De=Object.assign(he,{Button:_,Panel:U});function Ie({title:e,titleId:t,...l},c){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":t},l),e?n.createElement("title",{id:t},e):null,n.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const Pe=n.forwardRef(Ie),Ce=({children:e,className:t})=>d.jsx(De,{as:"div",className:`rounded bg-gray-100 shadow ${t}`,children:({open:l})=>d.jsxs(d.Fragment,{children:[d.jsxs(_,{className:"flex w-full cursor-pointer items-center justify-between p-4",children:[d.jsx("div",{className:"flex-shrink-0",children:"搜尋"}),d.jsx(Pe,{className:`size-6 transition-transform ${l?"rotate-180":""}`})]}),d.jsx("div",{className:"overflow-hidden",children:d.jsx(re,{children:l&&d.jsx(U,{static:!0,as:n.Fragment,children:d.jsx(ae.div,{initial:{opacity:0,transform:"translateY(-100%)"},animate:{opacity:1,transform:"translateY(0px)"},exit:{opacity:0,transform:"translateY(-100%)"},transition:{duration:.3,ease:oe},children:d.jsx("div",{className:"border-t p-4",children:e})})})})})]})});export{Ce as S};
